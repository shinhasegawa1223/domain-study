# ドメイン駆動設計

## 目次
1. [ドメイン駆動設計とは？](#ドメイン駆動設計とは)
2. [例](#例)
3. [ドメイン駆動設計の意義](#ドメイン駆動設計の意義)
4. [戦略的設計の必要理由](#戦略的設計の必要理由)
5. [戦略的設計の改善](#戦略的設計の改善)

---

## ドメイン駆動設計とは？
ソフトウェアを使用して解決を行いたい特定の問題領域

## 例

| 問題領域 | 課題 | 解決策 |効果|
|------|------|------|------|
| 在庫管理 | 手動で入力/目視での確認 | リアルタイム反映/自動更新 |確認工数削減/在庫の正確性確保|
| 顧客分析 | データの整理/分析 | 購入パターン分析/レコメンド |販売機会増加/分析作業の効率化|


## ドメイン駆動設計の意義

* ビジネス要件の正確な実現
* 要件のご実装を避ける

| 状況 | DDDなし  | DDDあり  |
|:-----|:-----------|:-----------|
| 大規模システム | コードがスパゲッティ化 | ドメインごとに整理 |
| 要件変更 | 影響範囲が不明 | 変更箇所が明確 |
| 新メンバー参加 | 理解に時間がかかる | ドメイン単位で学べる |

<br>

### イメージ
![DDDの概念図](../pic/01_ddd_introduction/study.png)
<br>

### 分類

#### 中核と一般

| 分類 | 説明 | 例（ECサイト） | 戦略 |
|:-----|:-----|:---------------|:-----|
| **中核 (Core)** | ビジネスの競争優位性を生む | レコメンド、価格最適化 | 自社で開発・注力 💪 |
| **一般 (Generic)** | どの業界でも共通 | 認証、決済、メール送信 | 既存サービス活用 📦 |

<br>

```
🏠 家を建てる場合：
  中核 = オリジナルの間取り、デザイン  → こだわって設計
  一般 = 電気配線、水道工事            → 業者に任せる

💻 ECサイトの場合：
  中核 = 独自のレコメンド機能          → 自社で開発（差別化）
  一般 = ログイン機能、決済            → Auth0やStripeを使う
```

## 戦略的設計の必要理由
### パターン１：技術的先行
最近はやりのFW（フレームワーク）使いたいねぇ<br>
モダンな言語だったりDBつかってみたい


### パターン２：部分的最適
ここのアーキ、コードは優れているものの価値を見いだせてない

### パターン３：ビジネスとの乖離
仕様とビジネス側に乖離があるから価値を提供できてない
#### よくあるパターン
* 仕様通りに設計したものの、ビジネス側が求めているものと違った
* 開発後に仕様のぬけもれ

### パターン３：ドメイン境界線
関係ないドメインが混ざってしまっている
* 認証と決済が混ざっている
* 在庫管理に会員登録機能が混ざっている

## 戦略的設計の改善
### 本質的な理解
ドメインの本質的な目的を理解する

### 改善方法
* ドメインを明確に分ける
* ドメインごとにチームを作る
* ドメインごとにサービスを作る

<br>

> [!TIP]
> **変更や拡張性を意識して設計をしておく**
<br>
> 現時点で必要ない機能は作ることはしなくてよいが将来性を意識する

